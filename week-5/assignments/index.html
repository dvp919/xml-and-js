<!DOCTYPE html>
<html>
<head>
    <title>Assignment Week 5</title>
    <style>
        th, td, p, input, h3 {
            font:15px 'Segoe UI';
        }
        table, th, td {
            border: solid 1px #ddd;
            border-collapse: collapse;
            padding: 2px 3px;
            text-align: center;
        }
        th {
            font-weight:bold;
        }
    </style>
</head>
<body>
	<h3 style="color: black;">
    	Click this button to generate Assignment Data
    </h3>
    <input type='button' onclick='tableFromJson()' 
    	value='Assignment Data' />
        
    <p id='showData'></p>
    
    <p id='msg'></p>
</body>

<script>
	
    function tableFromJson() {
		
        var myData = [
            {
    "id": 1,
    "first_name": "Husain",
    "last_name": "Zeale",
    "email": "hzeale0@odnoklassniki.ru",
    "gender": "Male",
    "ip_address": "143.237.191.245"
  },
  {
    "id": 2,
    "first_name": "Michale",
    "last_name": "Delgado",
    "email": "mdelgado1@paginegialle.it",
    "gender": "Male",
    "ip_address": "144.2.126.19"
  },
  {
    "id": 3,
    "first_name": "Gaspard",
    "last_name": "Upwood",
    "email": "gupwood2@fastcompany.com",
    "gender": "Male",
    "ip_address": "147.85.27.165"
  },
  {
    "id": 4,
    "first_name": "Gussy",
    "last_name": "Dowzell",
    "email": "gdowzell3@ox.ac.uk",
    "gender": "Male",
    "ip_address": "22.201.167.239"
  },
  {
    "id": 5,
    "first_name": "Alida",
    "last_name": "Macias",
    "email": "amacias4@slate.com",
    "gender": "Female",
    "ip_address": "166.62.41.24"
  },
  {
    "id": 6,
    "first_name": "Tess",
    "last_name": "Sainte Paul",
    "email": "tsaintepaul5@xinhuanet.com",
    "gender": "Female",
    "ip_address": "58.80.74.111"
  },
  {
    "id": 7,
    "first_name": "Germaine",
    "last_name": "Winnett",
    "email": "gwinnett6@parallels.com",
    "gender": "Genderqueer",
    "ip_address": "224.15.42.167"
  },
  {
    "id": 8,
    "first_name": "Mei",
    "last_name": "Swansbury",
    "email": "mswansbury7@uol.com.br",
    "gender": "Female",
    "ip_address": "191.235.203.177"
  },
  {
    "id": 9,
    "first_name": "Brietta",
    "last_name": "Greenfield",
    "email": "bgreenfield8@qq.com",
    "gender": "Male",
    "ip_address": "72.108.253.70"
  },
  {
    "id": 10,
    "first_name": "Guinna",
    "last_name": "Dagnan",
    "email": "gdagnan9@thetimes.co.uk",
    "gender": "Female",
    "ip_address": "108.233.202.64"
  }
        ]

        
        var col = [];
        for (var i = 0; i < myData.length; i++) {
            for (var key in myData[i]) {
                if (col.indexOf(key) === -1) {
                    col.push(key);
                }
            }
        }

        
        var table = document.createElement("table");

        
        var tr = table.insertRow(-1);                 
        for (var i = 0; i < col.length; i++) {
            var th = document.createElement("th");      
            th.innerHTML = col[i];
            tr.appendChild(th);
        }

        
        for (var i = 0; i < myData.length; i++) {

            tr = table.insertRow(-1);

            for (var j = 0; j < col.length; j++) {
                var tabCell = tr.insertCell(-1);
                tabCell.innerHTML = myData[i][col[j]];
            }
        }

        
        var divShowData = document.getElementById('showData');
        divShowData.innerHTML = "";
        divShowData.appendChild(table);
        
    }

</script>
</html>